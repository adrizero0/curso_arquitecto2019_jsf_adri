<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html"
	  xmlns:p="http://primefaces.org/ui"> 
<h:head></h:head> 
<h:body>
	<center>
		<p:messages>
        	<p:autoUpdate/>
    	</p:messages>
		<h:form prependId="false">
			<p:outputLabel value="Seleccione Cuenta:" />
			<p:selectOneMenu id="lista" value="#{gestionBean.cuentaSel}" required="true">
				<f:selectItem itemLabel="Selecciona una cuenta" itemValue=""/>
				<f:selectItems var="c" value="#{gestionBean.cuentas}"
							itemValue="#{c.numeroCuenta}"
							itemLabel="#{c.numeroCuenta}"/>
			</p:selectOneMenu><br/><br/>
			
			<p:outputLabel value="Introduce fecha de inicio"/><p:calendar id="fecha1" showOn="button" value="#{gestionBean.fecha1}"/>
			<p:outputLabel value="Introduce fecha de fin"/>
			<p:calendar id="fecha2" showOn="button" value="#{gestionBean.fecha2}">
				<f:validator validatorId="vFechas"/>
			</p:calendar><br/><br/>
		<p:commandButton value="Ver moviemientos" update="tbmovimientos" action="#{gestionBean.buscarMovimientos()}"/>
		
		<br/><br/>
		</h:form><br/><br/>
		
			<p:dataTable id="tbmovimientos" var="mov" value="#{gestionBean.movimientos}" style="width:80%" >
			    <p:column headerText="NÃºmero de cuenta">
			        <h:outputText value="#{mov.cuenta.numeroCuenta}" />
			    </p:column>
			 
			    <p:column headerText="Fecha">
			        <h:outputText value="#{mov.fecha}" />
			    </p:column>
			 
			    <p:column headerText="Cantidad">
			        <h:outputText value="#{mov.cantidad}" />
			    </p:column>
			 
			    <p:column headerText="Tipo de movimiento">
			        <h:outputText value="#{mov.operacion}" />
				</p:column>
			</p:dataTable>

		<br/><br/>
	</center>
</h:body> 
</html>
